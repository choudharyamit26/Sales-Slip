{% extends 'base-merchant.html' %}
{% block body %}
<style>
    .tableBord th{
    border-top:1px solid #ddd !important;
    }



</style>
<!-- partial -->

<div class="WrapperArea">
    <div class="WrapperBox">
        <div class="Small-Wrapper">
            <h1 class="Title" style="text-align: center; padding-bottom: 20px;">Branch Performance</h1>
            <br>
            <br>
            <h2>
                <center>Amount</center>
            </h2>
            <br>
            <br>
            <br>
            <br>
            <div class="demoTable">
                <table id="example" class="table table-striped table-bordered table-responsive tableBord"
                       style="width:50%;display:inline-block;float:left;border:none;">
                    <thead>
                    <tr>
                        <th>Branch ID</th>
                        <th>Shop No</th>
                        <th>Amount</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for x in context.qwer %}
                    <tr>
                        <td>{{x.branch}}</td>
                        <td>{{x.shop_no}}</td>
                        <td>{{x.amount}}</td>
                    </tr>
                    <tr>
                        {% if forloop.last %}
                        <th>Total</th>
                        <th></th>
                        <th>{{context.amount_total}}</th>
                        {% endif %}
                    </tr>
                    {% endfor %}

                    </tbody>
                </table>
                <div class="DashboardArea" style="width:50%;display:inline-block;">
                    <div id="container" style="width: 300px; height:300px;margin:0 auto;">
                        <canvas id="pie-chart"></canvas>
                    </div>
                </div>
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <h2>
                <center>Vat Amount</center>
            </h2>
            <br>
            <br>
            <br>
            <br>

            <div class="demoTable">
                <table id="example2" class="table table-striped table-bordered table-responsive tableBord"
                       style="width:50%;display:inline-block;float:left;border:none;">
                    <thead>
                    <tr>
                        <th>Branch ID</th>
                        <th>Shop No</th>
                        <th>Vat</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for x in context.qwer %}
                    <tr>
                        <td>{{x.branch}}</td>
                        <td>{{x.shop_no}}</td>
                        <td>{{x.vat}}</td>
                    </tr>
                    <tr>
                        {% if forloop.last %}
                        <th>Total</th>
                        <th></th>
                        <th>{{context.vat_total}}</th>
                        {% endif %}
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                <div class="DashboardArea" style="width:50%;display:inline-block;">
                    <div id="container3" style="width: 300px; height:300px;margin:0 auto;">
                        <canvas id="pie-chart2"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script>

    var config = {
      type: 'pie',
      data: {
        datasets: [{
          data: {{ context.data|safe }},
          backgroundColor: {{ context.backgroundColor|safe }}
        }],
        labels: {{ context.labels|safe }}
      },
      options: {
        responsive: true
      }
    };

<!--    window.onload = function() {-->
<!--      var ctx = document.getElementById('pie-chart').getContext('2d');-->
<!--      window.myPie = new Chart(ctx, config);-->
<!--    };-->

</script>
<script>

    var config2 = {
      type: 'pie',
      data: {
        datasets: [{
          data: {{ context.vat|safe }},
          backgroundColor: {{ context.backgroundColor|safe }}
        }],
        labels: {{ context.labels|safe }}
      },
      options: {
        responsive: true
      }
    };

    window.onload = function() {
      var ctx2 = document.getElementById('pie-chart2').getContext('2d');
      window.myPie = new Chart(ctx2, config2);
      var ctx = document.getElementById('pie-chart').getContext('2d');
      window.myPie = new Chart(ctx, config);
    };

</script>
<!--<script>-->

<!--var oilCanvas = document.getElementById("oilChart");-->
<!--Chart.defaults.global.defaultFontFamily = "Lato";-->
<!--Chart.defaults.global.defaultFontSize = 18;-->

<!--var oilData = {-->
<!--    labels: [-->
<!--        "Meerut",-->
<!--        "Noida",-->
<!--        "Mirzapur",-->
<!--        "Gzb",-->
<!--        "Lucknow"-->
<!--    ],-->
<!--    datasets: [-->
<!--        {-->
<!--            data: [133.3, 86.2, 52.2, 51.2, 50.2],-->
<!--            backgroundColor: [-->
<!--                "#FF6384",-->
<!--                "#63FF84",-->
<!--                "#84FF63",-->
<!--                "#8463FF",-->
<!--                "#6384FF"-->
<!--            ]-->
<!--        }]-->
<!--};-->
<!--var pieChart = new Chart(oilCanvas, {-->
<!--  type: 'pie',-->
<!--  data: oilData-->
<!--});-->


<!--</script>-->
{% endblock body %}